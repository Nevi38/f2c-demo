{"ast":null,"code":"// import io from 'socket.io-client'\n// const serverSocket = process.env.REACT_APP_SEVER_IP + \":\" + process.env.REACT_APP_SERVER_SOCKET\n\n// const server =\n//     process.env.REACT_APP_SEVER_IP + \":\" +\n//     process.env.REACT_APP_SERVER_SOCKET\n\n// const socket = io(server, { transports: [\"websocket\"] });\n\n// export default socket\n\nimport io from 'socket.io-client';\nconst server = process.env.REACT_APP_SEVER_IP + \":\" + process.env.REACT_APP_SERVER_SOCKET;\n\n// Retrieve the previous socket ID from localStorage\nconst storedSocketId = localStorage.getItem('socketId');\n\n// Create the socket connection with the previous socket ID as a query parameter\nconst socket = io(server, {\n  transports: ['websocket'],\n  query: {\n    socketId: storedSocketId\n  }\n});\n\n// Save the socket ID to localStorage whenever it changes\nsocket.on('connect', () => {\n  localStorage.setItem('socketId', socket.id);\n});\nexport default socket;","map":{"version":3,"names":["io","server","process","env","REACT_APP_SEVER_IP","REACT_APP_SERVER_SOCKET","storedSocketId","localStorage","getItem","socket","transports","query","socketId","on","setItem","id"],"sources":["C:/Users/quoct/Data/Exercise D21KTPM/BCKH Cấp Viện/Semester-1-Year-3/f2c/v1.0.5/client/src/socket/socket-client.js"],"sourcesContent":["// import io from 'socket.io-client'\r\n// const serverSocket = process.env.REACT_APP_SEVER_IP + \":\" + process.env.REACT_APP_SERVER_SOCKET\r\n\r\n// const server =\r\n//     process.env.REACT_APP_SEVER_IP + \":\" +\r\n//     process.env.REACT_APP_SERVER_SOCKET\r\n    \r\n// const socket = io(server, { transports: [\"websocket\"] });\r\n\r\n// export default socket\r\n\r\nimport io from 'socket.io-client';\r\n\r\nconst server =\r\n  process.env.REACT_APP_SEVER_IP + \":\" +\r\n  process.env.REACT_APP_SERVER_SOCKET;\r\n\r\n// Retrieve the previous socket ID from localStorage\r\nconst storedSocketId = localStorage.getItem('socketId');\r\n\r\n// Create the socket connection with the previous socket ID as a query parameter\r\nconst socket = io(server, {\r\n  transports: ['websocket'],\r\n  query: { socketId: storedSocketId },\r\n});\r\n\r\n// Save the socket ID to localStorage whenever it changes\r\nsocket.on('connect', () => {\r\n  localStorage.setItem('socketId', socket.id);\r\n});\r\n\r\nexport default socket;\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAOA,EAAE,MAAM,kBAAkB;AAEjC,MAAMC,MAAM,GACVC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,GAAG,GACpCF,OAAO,CAACC,GAAG,CAACE,uBAAuB;;AAErC;AACA,MAAMC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;;AAEvD;AACA,MAAMC,MAAM,GAAGT,EAAE,CAACC,MAAM,EAAE;EACxBS,UAAU,EAAE,CAAC,WAAW,CAAC;EACzBC,KAAK,EAAE;IAAEC,QAAQ,EAAEN;EAAe;AACpC,CAAC,CAAC;;AAEF;AACAG,MAAM,CAACI,EAAE,CAAC,SAAS,EAAE,MAAM;EACzBN,YAAY,CAACO,OAAO,CAAC,UAAU,EAAEL,MAAM,CAACM,EAAE,CAAC;AAC7C,CAAC,CAAC;AAEF,eAAeN,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}