{"ast":null,"code":"import axios from 'axios';\nexport default async function sendImageToServer(imagePackage) {\n  const {\n    file,\n    url\n  } = imagePackage;\n  try {\n    // Chuyển đổi chuỗi Base64 thành dữ liệu bin\n    const binaryData = atob(file);\n    const byteArray = new Uint8Array(binaryData.length);\n    for (let i = 0; i < binaryData.length; i++) {\n      byteArray[i] = binaryData.charCodeAt(i);\n    }\n    const blob = new Blob([byteArray], {\n      type: 'image/png'\n    }); // Điều này giả định rằng định dạng hình ảnh là PNG, bạn có thể điều chỉnh nếu cần thiết\n\n    const formData = new FormData();\n    formData.append('image', blob, 'image.png'); // Tên tệp là 'image.png', bạn có thể điều chỉnh nếu cần thiết\n\n    const response = await axios.post(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    console.log('Hình ảnh đã được tải lên thành công.', response.data);\n  } catch (error) {\n    console.error('Lỗi khi tải lên hình ảnh:', error);\n  }\n}","map":{"version":3,"names":["axios","sendImageToServer","imagePackage","file","url","binaryData","atob","byteArray","Uint8Array","length","i","charCodeAt","blob","Blob","type","formData","FormData","append","response","post","headers","console","log","data","error"],"sources":["C:/Users/quoct/Data/Exercise D21KTPM/BCKH Cấp Viện/Semester-1-Year-3/f2c/v1/client/src/component/module/sendImageToServer.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport default async function sendImageToServer(imagePackage) {\r\n  const { file, url } = imagePackage;\r\n\r\n  try {\r\n    // Chuyển đổi chuỗi Base64 thành dữ liệu bin\r\n    const binaryData = atob(file);\r\n    const byteArray = new Uint8Array(binaryData.length);\r\n    for (let i = 0; i < binaryData.length; i++) {\r\n      byteArray[i] = binaryData.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([byteArray], { type: 'image/png' }); // Điều này giả định rằng định dạng hình ảnh là PNG, bạn có thể điều chỉnh nếu cần thiết\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', blob, 'image.png'); // Tên tệp là 'image.png', bạn có thể điều chỉnh nếu cần thiết\r\n\r\n    const response = await axios.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n\r\n    console.log('Hình ảnh đã được tải lên thành công.', response.data);\r\n  } catch (error) {\r\n    console.error('Lỗi khi tải lên hình ảnh:', error);\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,eAAeC,iBAAiBA,CAACC,YAAY,EAAE;EAC5D,MAAM;IAAEC,IAAI;IAAEC;EAAI,CAAC,GAAGF,YAAY;EAElC,IAAI;IACF;IACA,MAAMG,UAAU,GAAGC,IAAI,CAACH,IAAI,CAAC;IAC7B,MAAMI,SAAS,GAAG,IAAIC,UAAU,CAACH,UAAU,CAACI,MAAM,CAAC;IACnD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACI,MAAM,EAAEC,CAAC,EAAE,EAAE;MAC1CH,SAAS,CAACG,CAAC,CAAC,GAAGL,UAAU,CAACM,UAAU,CAACD,CAAC,CAAC;IACzC;IACA,MAAME,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACN,SAAS,CAAC,EAAE;MAAEO,IAAI,EAAE;IAAY,CAAC,CAAC,CAAC,CAAC;;IAE3D,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC;;IAE7C,MAAMM,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAI,CAACf,GAAG,EAAEW,QAAQ,EAAE;MAC/CK,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFC,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEJ,QAAQ,CAACK,IAAI,CAAC;EACpE,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACnD;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}